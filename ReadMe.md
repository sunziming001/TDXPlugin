# 食用指南 #
1. 将 TDXPlugin.dll 复制到 %通达信目录%\T0002\dlls\ 下
2. 重新登陆通达信
3. 在通达信的公式管理器中将TDXPlugin.dll绑定到第1号DLL
4. 新建一个条件选股公式，设置参数RATE,范围0.01~0.99，默认值0.99, 代码如下：
<pre>
TMP1:=TDXDLL1(100,2.5,10,4);
RET:=TDXDLL1(3,HIGH,CLOSE,VOL);
TMP2:=TDXDLL1(100,RATE,0,0);
RET2:=TDXDLL1(2,HIGH,LOW,CLOSE);
REF(RET,0)==1.0 AND REF(RET2,0)>=3.0;
</pre>
5. 新建一个盈亏比查看公式，代码如下,其中N1为预设参数，默认值0.99，表示止损百分比:
<pre>
NT:=TDXDLL1(100,N1,0,0);
TDXDLL1(2,HIGH,LOW,CLOSE) COLORRED;
</pre>
6. B1选股公式</br>
N 0~100	 9</br>
M1 0~100 3</br>
M2 0~100 3</br>
M3 0~100 13</br>
<pre>
MN1:=14;
MN2:=28;
MN3:=57;
MN4:=114;
SHORT_TREND:=EMA(EMA(C,10),10);
MA1:=MA(CLOSE,60);
MA2:=EMA(CLOSE,13);
Z1:=STRCAT(HYBLOCK,' ');
Z2:=STRCAT(Z1,DYBLOCK);
Z3:=STRCAT(Z2,' ');
LONG_TREND:=(MA(CLOSE,MN1)+MA(CLOSE,MN2)+MA(CLOSE,MN3)+MA(CLOSE,MN4))/4;
T:=BARSLAST(CROSS(SHORT_TREND,LONG_TREND));

RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;
K:=SMA(RSV,M1,1);
D:=SMA(K,M2,1);
J:=3*K-2*D;
DIF:=EMA(CLOSE,9)-EMA(CLOSE,26);
DEA:=EMA(DIF,12);

RATE:=REF(CLOSE,0)/REF(OPEN,0);
HIGH_RATE:=REF(HIGH,0)/REF(LOW,0);


J<M3 
	AND RATE>=0.98 AND RATE<=1.018 AND HIGH_RATE<=1.07 
	AND (SHORT_TREND>LONG_TREND AND T<=40 )
	AND ((CLOSE > 0.99*LONG_TREND AND CLOSE<1.01*LONG_TREND) 
		 OR (CLOSE > 0.99*SHORT_TREND AND CLOSE<1.01*SHORT_TREND));

</pre>
